{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}
{% block content %}
{% include '../../slide.html' %}
{% if validlink %}
    <div class="container" style="padding: 12em 0 4em 0;">
        <div class="row">
            <div class="col-12 col-sm-10 offset-md-1 col-lg-6 offset-lg-3">
                <form class="formulario needs-validation" action="." method="POST" novalidate>
                    {% csrf_token %}
                    <h6>{% blocktrans %}Por favor ingrese su nueva contraseña.{% endblocktrans %}</h6>
                    <div class="form-group">
                        {% if form.new_password1.errors %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>{{ form.new_password1.errors|escape }}</strong>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        {% endif %}
                        <label for="exampleInputPassword1">{% blocktrans %}Nueva contraseña{% endblocktrans %}</label>
                        <input type="password" class="form-control" id="exampleInputPassword1" {{ form.new_password1 }}
                        <div class="invalid-feedback">
                            {% blocktrans %}Introduzca su nueva contraseña{% endblocktrans %}
                        </div>
                    </div>
                    <div class="form-group">
                        {% if form.new_password2.errors %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>{{ form.new_password2.errors|escape }}</strong>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        {% endif %}
                        <label for="exampleInputPassword1">{% blocktrans %}Repetir contraseña{% endblocktrans %}</label>
                        <input type="password" class="form-control" id="exampleInputPassword1" {{ form.new_password2 }}
                        <div class="invalid-feedback">
                            {% blocktrans %}Confirme su nueva contraseña{% endblocktrans %}
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary formulario-buttom" value="Cambiar mi contraseña">{% blocktrans %}Guardar{% endblocktrans %}</button>
                </form>
            </div>
            <div class="col-12 col-sm-10 offset-md-1 offset-lg-0 col-lg-3"></div>
        </div>
    </div>
    <script src="{% static 'js/app/validations.js' %}"></script>
{% else %}
    <div class="contanier"  style="padding:10em 0 6em 0;">
        <div class="row">
            <div class="col-12 col-sm-10 offset-md-1 col-lg-8 offset-lg-2">
                <form class="formulario" action="." method="POST">
                    <h2>{% blocktrans %}Recuperación de contraseña fallida{% endblocktrans %}</h2>
                    <p>{% blocktrans %}El vínculo de recuperación de contraseña es inválido.{% endblocktrans %}</p>
                    <p>{% blocktrans %}Posiblemente ya ha sido usado.{% endblocktrans %}</p>
                    <p>{% blocktrans %}Por favor solicite una nueva contraseña.{% endblocktrans %}</p>
                </form>
            </div>
            <div class="col-12 col-sm-10 offset-md-1 offset-lg-0 col-lg-2"></div>
        </div>
    </div>
{% endif %}
{% endblock %}